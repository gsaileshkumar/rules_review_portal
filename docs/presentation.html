<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Rules Review Portal ‚Äî Semantic Search</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg:      #0d1117;
    --surface: #161b22;
    --card:    #21262d;
    --border:  #30363d;
    --accent:  #58a6ff;
    --green:   #3fb950;
    --purple:  #bc8cff;
    --orange:  #f0883e;
    --red:     #f85149;
    --text:    #e6edf3;
    --muted:   #8b949e;
  }

  html, body {
    height: 100%;
    background: var(--bg);
    color: var(--text);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    overflow: hidden;
    touch-action: pan-y;
  }

  /* ‚îÄ‚îÄ Slide container ‚îÄ‚îÄ */
  #deck {
    width: 100%;
    height: 100vh;
    display: flex;
    transition: transform 0.45s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .slide {
    min-width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 32px 28px;
    position: relative;
    overflow: hidden;
  }

  /* ‚îÄ‚îÄ Slide number ‚îÄ‚îÄ */
  .slide-num {
    position: absolute;
    bottom: 18px;
    right: 22px;
    font-size: 12px;
    color: var(--muted);
    letter-spacing: 1px;
  }

  /* ‚îÄ‚îÄ Navigation dots ‚îÄ‚îÄ */
  #dots {
    position: fixed;
    bottom: 18px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 100;
  }
  .dot {
    width: 7px; height: 7px;
    border-radius: 50%;
    background: var(--border);
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
  }
  .dot.active {
    background: var(--accent);
    transform: scale(1.3);
  }

  /* ‚îÄ‚îÄ Nav arrows ‚îÄ‚îÄ */
  .nav-btn {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(22,27,34,0.85);
    border: 1px solid var(--border);
    color: var(--muted);
    width: 38px; height: 38px;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    z-index: 100;
    display: flex; align-items: center; justify-content: center;
    transition: color 0.2s, border-color 0.2s;
    user-select: none;
  }
  .nav-btn:hover { color: var(--accent); border-color: var(--accent); }
  #prev { left: 10px; }
  #next { right: 10px; }

  /* ‚îÄ‚îÄ Typography helpers ‚îÄ‚îÄ */
  .tag {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 12px;
    color: var(--accent);
  }
  h1 { font-size: clamp(26px, 6vw, 42px); font-weight: 700; line-height: 1.15; text-align: center; }
  h2 { font-size: clamp(20px, 4.5vw, 32px); font-weight: 700; line-height: 1.2; text-align: center; margin-bottom: 6px; }
  h3 { font-size: clamp(14px, 3vw, 20px); font-weight: 600; }
  p, li { font-size: clamp(13px, 2.6vw, 16px); color: var(--muted); line-height: 1.65; }
  strong { color: var(--text); font-weight: 600; }

  .subtitle { font-size: clamp(13px, 3vw, 18px); color: var(--muted); text-align: center; margin-top: 14px; max-width: 520px; line-height: 1.6; }

  /* ‚îÄ‚îÄ Cards / grid ‚îÄ‚îÄ */
  .cards { display: grid; gap: 12px; width: 100%; max-width: 600px; margin-top: 20px; }
  .cards-2 { grid-template-columns: 1fr 1fr; }
  .cards-3 { grid-template-columns: 1fr 1fr 1fr; }

  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 16px;
  }
  .card .icon { font-size: 24px; margin-bottom: 8px; }
  .card h3 { font-size: 14px; margin-bottom: 6px; }
  .card p  { font-size: 12px; color: var(--muted); }

  /* ‚îÄ‚îÄ Problem bullets ‚îÄ‚îÄ */
  .bullets { list-style: none; width: 100%; max-width: 560px; margin-top: 18px; }
  .bullets li {
    display: flex; align-items: flex-start; gap: 12px;
    padding: 12px 16px;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 10px;
    font-size: clamp(12px, 2.4vw, 14px);
    color: var(--text);
    line-height: 1.5;
  }
  .bullets li .ico { font-size: 18px; flex-shrink: 0; margin-top: 1px; }

  /* ‚îÄ‚îÄ Code / pill ‚îÄ‚îÄ */
  code {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 5px;
    padding: 2px 7px;
    font-family: 'SF Mono', 'Fira Code', monospace;
    font-size: 0.88em;
    color: var(--green);
  }

  .pill {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .pill-green  { background: rgba(63,185,80,0.15);  color: var(--green); }
  .pill-blue   { background: rgba(88,166,255,0.15); color: var(--accent); }
  .pill-purple { background: rgba(188,140,255,0.15);color: var(--purple); }
  .pill-orange { background: rgba(240,136,62,0.15); color: var(--orange); }
  .pill-red    { background: rgba(248,81,73,0.15);  color: var(--red); }

  /* ‚îÄ‚îÄ Comparison table ‚îÄ‚îÄ */
  .cmp { width: 100%; max-width: 560px; border-collapse: collapse; margin-top: 18px; font-size: 13px; }
  .cmp th { background: var(--surface); padding: 10px 12px; text-align: left; font-size: 11px; letter-spacing: 1px; color: var(--muted); border-bottom: 1px solid var(--border); }
  .cmp td { padding: 10px 12px; border-bottom: 1px solid var(--border); }
  .cmp tr:last-child td { border-bottom: none; }
  .cmp td:first-child { color: var(--text); font-weight: 500; }

  /* ‚îÄ‚îÄ Arrow flow ‚îÄ‚îÄ */
  .flow {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    width: 100%;
    max-width: 480px;
    margin-top: 18px;
  }
  .flow-step {
    width: 100%;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 10px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 13px;
  }
  .flow-step .num {
    width: 26px; height: 26px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; font-weight: 700;
    flex-shrink: 0;
  }
  .flow-arrow { color: var(--muted); font-size: 14px; }

  /* ‚îÄ‚îÄ Architecture boxes ‚îÄ‚îÄ */
  .arch {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    width: 100%;
    max-width: 480px;
    margin-top: 14px;
  }
  .arch-row {
    display: flex;
    gap: 8px;
    width: 100%;
    justify-content: center;
  }
  .arch-box {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 10px 14px;
    text-align: center;
    flex: 1;
    max-width: 180px;
  }
  .arch-box .ab-icon { font-size: 20px; }
  .arch-box .ab-label { font-size: 11px; font-weight: 600; margin-top: 4px; color: var(--text); }
  .arch-box .ab-sub   { font-size: 10px; color: var(--muted); margin-top: 2px; }
  .arch-conn { color: var(--muted); font-size: 13px; text-align: center; }

  /* ‚îÄ‚îÄ Similarity bar ‚îÄ‚îÄ */
  .sim-row { width: 100%; max-width: 520px; margin-top: 10px; }
  .sim-label { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 13px; }
  .sim-bar { height: 8px; background: var(--card); border-radius: 4px; overflow: hidden; }
  .sim-fill { height: 100%; border-radius: 4px; background: linear-gradient(90deg, var(--accent), var(--purple)); }

  /* ‚îÄ‚îÄ Title slide gradient ‚îÄ‚îÄ */
  .slide-title { background: radial-gradient(ellipse at 30% 40%, rgba(88,166,255,0.12), transparent 60%),
                              radial-gradient(ellipse at 80% 70%, rgba(188,140,255,0.10), transparent 55%),
                              var(--bg); }

  /* ‚îÄ‚îÄ Slide accent borders ‚îÄ‚îÄ */
  .accent-top::before {
    content: '';
    position: absolute; top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--accent), var(--purple));
  }

  /* ‚îÄ‚îÄ Responsive tweaks ‚îÄ‚îÄ */
  @media (max-width: 400px) {
    .cards-3 { grid-template-columns: 1fr; }
    .cards-2 { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<div id="deck">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 1 ‚Äî TITLE
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide slide-title">
    <div class="tag">Rules Review Portal</div>
    <h1>AI-Powered<br>Firewall Audit</h1>
    <p class="subtitle">
      How semantic search and vector embeddings solve the firewall rule
      matching problem at scale
    </p>
    <div style="display:flex;gap:10px;margin-top:28px;flex-wrap:wrap;justify-content:center;">
      <span class="pill pill-blue">FastAPI</span>
      <span class="pill pill-purple">pgvector</span>
      <span class="pill pill-green">Ollama</span>
      <span class="pill pill-orange">MCP</span>
    </div>
    <div class="slide-num">1 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 2 ‚Äî THE PROBLEM
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">The Problem</div>
    <h2>Auditing Firewall Rules<br>Is Hard</h2>
    <ul class="bullets">
      <li><span class="ico">üìã</span><span>Organisations accumulate <strong>thousands of firewall rules</strong> across dozens of devices over years</span></li>
      <li><span class="ico">üîÄ</span><span>Rules and access requests are written by <strong>different teams</strong> using <strong>different notation styles</strong></span></li>
      <li><span class="ico">‚ùå</span><span>Exact-string matching causes <strong>high false-positive rates</strong> ‚Äî identical networks fail to match due to format differences</span></li>
      <li><span class="ico">‚è±Ô∏è</span><span>Manual review is <strong>slow and error-prone</strong> ‚Äî deficiencies go undetected for months</span></li>
    </ul>
    <div class="slide-num">2 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 3 ‚Äî THE FORMAT PROBLEM
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">Root Cause</div>
    <h2>Same Network,<br>Different Notation</h2>
    <p style="text-align:center;margin-top:10px;max-width:500px;">All three rows below describe the <strong>exact same IP range</strong> ‚Äî yet an exact-match system treats them as completely different.</p>
    <table class="cmp" style="margin-top:22px;">
      <thead>
        <tr>
          <th>Notation Style</th>
          <th>Example</th>
          <th>Match?</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CIDR</td>
          <td><code>10.0.10.0/24</code></td>
          <td><span class="pill pill-red">No match</span></td>
        </tr>
        <tr>
          <td>IP Range</td>
          <td><code>10.0.10.0-10.0.10.255</code></td>
          <td><span class="pill pill-red">No match</span></td>
        </tr>
        <tr>
          <td>Single host</td>
          <td><code>10.0.1.10</code></td>
          <td><span class="pill pill-red">No match</span></td>
        </tr>
      </tbody>
    </table>
    <p style="text-align:center;margin-top:16px;font-size:13px;">With <strong>semantic search</strong>, all three match correctly because the <em>meaning</em> is preserved.</p>
    <div class="slide-num">3 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 4 ‚Äî WHAT IS SEMANTIC SEARCH
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">The Solution</div>
    <h2>What Is Semantic Search?</h2>
    <p style="text-align:center;margin-top:10px;max-width:500px;">Instead of matching character-by-character, we convert text into <strong>numerical vectors</strong> that capture <em>meaning</em>. Similarity is measured geometrically.</p>
    <div class="flow" style="margin-top:20px;">
      <div class="flow-step">
        <div class="num" style="background:rgba(88,166,255,0.2);color:var(--accent);">1</div>
        <div><strong>Normalise</strong> ‚Äî Convert all address formats to a common text representation</div>
      </div>
      <div class="flow-arrow">‚Üì</div>
      <div class="flow-step">
        <div class="num" style="background:rgba(188,140,255,0.2);color:var(--purple);">2</div>
        <div><strong>Embed</strong> ‚Äî An AI model encodes the text as a 1024-dimensional vector</div>
      </div>
      <div class="flow-arrow">‚Üì</div>
      <div class="flow-step">
        <div class="num" style="background:rgba(63,185,80,0.2);color:var(--green);">3</div>
        <div><strong>Compare</strong> ‚Äî Measure <em>cosine similarity</em> between vectors (0.0 ‚Äì 1.0)</div>
      </div>
      <div class="flow-arrow">‚Üì</div>
      <div class="flow-step">
        <div class="num" style="background:rgba(240,136,62,0.2);color:var(--orange);">4</div>
        <div><strong>Match</strong> ‚Äî If similarity ‚â• threshold (default 0.7) ‚Üí consider it a match</div>
      </div>
    </div>
    <div class="slide-num">4 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 5 ‚Äî ADDRESS NORMALISATION
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">Key Innovation</div>
    <h2>Address Normalisation</h2>
    <p style="text-align:center;margin-top:8px;max-width:500px;">Before embedding, each address is expanded into a verbose text form so that <strong>equivalent addresses produce equivalent vectors</strong>.</p>
    <table class="cmp" style="margin-top:18px;">
      <thead>
        <tr><th>Input</th><th>Normalised Text</th></tr>
      </thead>
      <tbody>
        <tr>
          <td><code>10.0.1.10</code></td>
          <td style="color:var(--green);font-size:12px;">host 10.0.1.10</td>
        </tr>
        <tr>
          <td><code>10.0.10.0/24</code></td>
          <td style="color:var(--green);font-size:12px;">subnet 10.0.10.0/24 range 10.0.10.0 to 10.0.10.255</td>
        </tr>
        <tr>
          <td><code>10.0.10.0-10.0.10.255</code></td>
          <td style="color:var(--green);font-size:12px;">range 10.0.10.0 to 10.0.10.255 subnet 10.0.10.0/24</td>
        </tr>
      </tbody>
    </table>
    <p style="text-align:center;margin-top:14px;font-size:13px;">Both the CIDR and the range form now share all the key tokens ‚Äî the embedding model produces <strong>near-identical vectors</strong> ‚Üí high cosine similarity.</p>
    <div class="slide-num">5 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 6 ‚Äî SIMILARITY SCORES
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">Cosine Similarity</div>
    <h2>Measuring How Similar<br>Two Rules Are</h2>
    <p style="text-align:center;margin-top:10px;max-width:500px;">Cosine similarity ranges from <strong>0.0</strong> (completely different) to <strong>1.0</strong> (identical). We use a threshold of <strong>0.7</strong> to decide "match".</p>
    <div class="sim-row" style="margin-top:24px;">
      <div class="sim-label"><span>CIDR vs IP Range (same subnet)</span><strong style="color:var(--green);">0.95</strong></div>
      <div class="sim-bar"><div class="sim-fill" style="width:95%;background:linear-gradient(90deg,var(--green),var(--accent));"></div></div>
    </div>
    <div class="sim-row" style="margin-top:14px;">
      <div class="sim-label"><span>Host IP vs subnet containing it</span><strong style="color:var(--accent);">0.82</strong></div>
      <div class="sim-bar"><div class="sim-fill" style="width:82%;"></div></div>
    </div>
    <div class="sim-row" style="margin-top:14px;">
      <div class="sim-label"><span>Same ports, adjacent subnets</span><strong style="color:var(--orange);">0.71</strong></div>
      <div class="sim-bar"><div class="sim-fill" style="width:71%;background:linear-gradient(90deg,var(--accent),var(--orange));"></div></div>
    </div>
    <div class="sim-row" style="margin-top:14px;">
      <div class="sim-label"><span>Completely different rule</span><strong style="color:var(--red);">0.31</strong></div>
      <div class="sim-bar"><div class="sim-fill" style="width:31%;background:var(--red);"></div></div>
    </div>
    <div style="margin-top:16px;display:flex;align-items:center;gap:8px;font-size:12px;color:var(--muted);">
      <div style="width:30px;height:3px;background:var(--border);border-top:2px dashed var(--orange);"></div>
      Threshold: 0.7 ‚Äî above this = match, below = deficiency
    </div>
    <div class="slide-num">6 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 7 ‚Äî SYSTEM ARCHITECTURE
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">System Architecture</div>
    <h2>How the Components<br>Fit Together</h2>
    <div class="arch">
      <!-- Clients -->
      <div class="arch-row">
        <div class="arch-box" style="border-color:var(--accent);">
          <div class="ab-icon">üñ•Ô∏è</div>
          <div class="ab-label">REST Clients</div>
          <div class="ab-sub">curl ¬∑ apps ¬∑ scripts</div>
        </div>
        <div class="arch-box" style="border-color:var(--purple);">
          <div class="ab-icon">ü§ñ</div>
          <div class="ab-label">AI Assistants</div>
          <div class="ab-sub">Claude ¬∑ etc.</div>
        </div>
      </div>
      <div class="arch-conn">‚Üì &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‚Üì SSE</div>
      <!-- Services -->
      <div class="arch-row">
        <div class="arch-box" style="border-color:var(--accent);">
          <div class="ab-icon">‚ö°</div>
          <div class="ab-label">FastAPI :8000</div>
          <div class="ab-sub">REST ¬∑ Business Logic</div>
        </div>
        <div class="arch-box" style="border-color:var(--purple);">
          <div class="ab-icon">üîå</div>
          <div class="ab-label">MCP Server :8090</div>
          <div class="ab-sub">7 AI tools</div>
        </div>
      </div>
      <div class="arch-conn">‚Üì SQL + pgvector &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ‚Üì HTTP</div>
      <!-- DB + Ollama -->
      <div class="arch-row">
        <div class="arch-box" style="border-color:var(--green);">
          <div class="ab-icon">üóÑÔ∏è</div>
          <div class="ab-label">PostgreSQL 16</div>
          <div class="ab-sub">+ pgvector ¬∑ HNSW index</div>
        </div>
        <div class="arch-box" style="border-color:var(--orange);">
          <div class="ab-icon">üß†</div>
          <div class="ab-label">Ollama (host)</div>
          <div class="ab-sub">qwen3-embedding:0.6b</div>
        </div>
      </div>
    </div>
    <div class="slide-num">7 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 8 ‚Äî TWO REVIEW MODES
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">Review Modes</div>
    <h2>Exact Match vs<br>Semantic Review</h2>
    <div class="cards cards-2" style="margin-top:18px;max-width:580px;">
      <div class="card" style="border-color:var(--accent);">
        <div class="icon">üî¨</div>
        <h3 style="color:var(--accent);">Exact Match</h3>
        <p><strong>How:</strong> Fingerprint comparison using frozensets of IPs + ports</p>
        <p style="margin-top:8px;"><strong>Pro:</strong> Zero false positives ‚Äî either matches or not</p>
        <p style="margin-top:6px;"><strong>Con:</strong> Format differences = false negatives</p>
        <p style="margin-top:8px;font-size:11px;color:var(--muted);">POST /api/review/run</p>
      </div>
      <div class="card" style="border-color:var(--purple);">
        <div class="icon">üß†</div>
        <h3 style="color:var(--purple);">Semantic Review</h3>
        <p><strong>How:</strong> Vector KNN search via HNSW index, cosine similarity ‚â• 0.7</p>
        <p style="margin-top:8px;"><strong>Pro:</strong> Tolerates format variation, CIDR ‚Üî ranges</p>
        <p style="margin-top:6px;"><strong>Con:</strong> Threshold tuning needed</p>
        <p style="margin-top:8px;font-size:11px;color:var(--muted);">POST /api/review/run-semantic</p>
      </div>
    </div>
    <p style="margin-top:18px;text-align:center;font-size:13px;">Both modes store <strong>deficiencies</strong> ‚Äî rules or requests with no match ‚Äî for follow-up audit.</p>
    <div class="slide-num">8 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 9 ‚Äî SEMANTIC SEARCH API
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">On-Demand Search</div>
    <h2>Semantic Search API</h2>
    <p style="text-align:center;margin-top:8px;max-width:500px;">Beyond scheduled reviews, the API supports <strong>real-time similarity queries</strong>.</p>
    <div class="cards" style="margin-top:18px;max-width:560px;">
      <div class="card" style="display:flex;align-items:flex-start;gap:12px;padding:12px 14px;">
        <div style="font-size:20px;">üîç</div>
        <div>
          <h3 style="font-size:13px;">By Request ID</h3>
          <p style="font-size:12px;">Find all physical rules semantically similar to a given user request</p>
          <code style="font-size:11px;display:block;margin-top:6px;">POST /api/semantic-search/by-request/{id}</code>
        </div>
      </div>
      <div class="card" style="display:flex;align-items:flex-start;gap:12px;padding:12px 14px;">
        <div style="font-size:20px;">üîé</div>
        <div>
          <h3 style="font-size:13px;">By Rule ID</h3>
          <p style="font-size:12px;">Find all user requests semantically similar to a given physical rule</p>
          <code style="font-size:11px;display:block;margin-top:6px;">POST /api/semantic-search/by-rule/{id}</code>
        </div>
      </div>
      <div class="card" style="display:flex;align-items:flex-start;gap:12px;padding:12px 14px;">
        <div style="font-size:20px;">üí¨</div>
        <div>
          <h3 style="font-size:13px;">Free-Text Search</h3>
          <p style="font-size:12px;">"Find rules allowing port 443 from the 10.0.1.x subnet" ‚Äî search rules and/or requests</p>
          <code style="font-size:11px;display:block;margin-top:6px;">POST /api/semantic-search/by-text</code>
        </div>
      </div>
    </div>
    <div class="slide-num">9 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 10 ‚Äî MCP INTEGRATION
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide accent-top">
    <div class="tag">AI Integration</div>
    <h2>MCP Server ‚Äî<br>Conversational Access</h2>
    <p style="text-align:center;margin-top:8px;max-width:500px;">The MCP server wraps the API as <strong>tools</strong> that Claude (or any MCP-compatible AI) can call during a conversation.</p>
    <div class="cards cards-2" style="margin-top:16px;max-width:580px;">
      <div class="card" style="padding:12px;">
        <div class="icon" style="font-size:18px;">üîç</div>
        <h3 style="font-size:12px;">find_matching_rules</h3>
        <p style="font-size:11px;">Rules for a request ID</p>
      </div>
      <div class="card" style="padding:12px;">
        <div class="icon" style="font-size:18px;">üîé</div>
        <h3 style="font-size:12px;">find_matching_requests</h3>
        <p style="font-size:11px;">Requests for a rule ID</p>
      </div>
      <div class="card" style="padding:12px;">
        <div class="icon" style="font-size:18px;">üí¨</div>
        <h3 style="font-size:12px;">search_rules</h3>
        <p style="font-size:11px;">Free-text semantic search</p>
      </div>
      <div class="card" style="padding:12px;">
        <div class="icon" style="font-size:18px;">üöÄ</div>
        <h3 style="font-size:12px;">run_semantic_review</h3>
        <p style="font-size:11px;">Full audit in one call</p>
      </div>
      <div class="card" style="padding:12px;">
        <div class="icon" style="font-size:18px;">‚öôÔ∏è</div>
        <h3 style="font-size:12px;">generate_embeddings</h3>
        <p style="font-size:11px;">Batch embed all records</p>
      </div>
      <div class="card" style="padding:12px;">
        <div class="icon" style="font-size:18px;">üìÑ</div>
        <h3 style="font-size:12px;">get_request / get_rule</h3>
        <p style="font-size:11px;">Fetch entity details</p>
      </div>
    </div>
    <p style="margin-top:14px;text-align:center;font-size:12px;color:var(--muted);">Transport: SSE ¬∑ Port 8090 ¬∑ Connect at <code>/sse</code></p>
    <div class="slide-num">10 / 11</div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SLIDE 11 ‚Äî SUMMARY
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="slide" style="background: radial-gradient(ellipse at 60% 30%, rgba(63,185,80,0.10), transparent 55%), radial-gradient(ellipse at 20% 70%, rgba(88,166,255,0.10), transparent 50%), var(--bg);">
    <div class="tag">Summary</div>
    <h2>Key Takeaways</h2>
    <ul class="bullets" style="margin-top:18px;">
      <li><span class="ico">‚úÖ</span><span><strong>Semantic search</strong> solves the format-variation problem that breaks exact matching</span></li>
      <li><span class="ico">üß†</span><span><strong>Address normalisation</strong> is the key insight ‚Äî equivalent networks produce equivalent tokens, then equivalent vectors</span></li>
      <li><span class="ico">‚ö°</span><span><strong>HNSW indexes</strong> in pgvector enable sub-millisecond KNN search even over millions of embeddings</span></li>
      <li><span class="ico">ü§ñ</span><span><strong>MCP integration</strong> lets AI assistants run audits and answer questions conversationally</span></li>
      <li><span class="ico">üîß</span><span>Both review modes coexist ‚Äî <strong>exact match</strong> for zero-false-positive compliance, <strong>semantic</strong> for discovery</span></li>
    </ul>
    <div class="slide-num">11 / 11</div>
  </div>

</div><!-- /#deck -->

<!-- Navigation -->
<button class="nav-btn" id="prev">‚Äπ</button>
<button class="nav-btn" id="next">‚Ä∫</button>
<div id="dots"></div>

<script>
  const deck   = document.getElementById('deck');
  const slides = deck.querySelectorAll('.slide');
  const dotsEl = document.getElementById('dots');
  const total  = slides.length;
  let current  = 0;

  // Build dots
  slides.forEach((_, i) => {
    const d = document.createElement('div');
    d.className = 'dot' + (i === 0 ? ' active' : '');
    d.addEventListener('click', () => goTo(i));
    dotsEl.appendChild(d);
  });

  function goTo(n) {
    n = Math.max(0, Math.min(total - 1, n));
    current = n;
    deck.style.transform = `translateX(-${n * 100}vw)`;
    document.querySelectorAll('.dot').forEach((d, i) =>
      d.classList.toggle('active', i === n)
    );
  }

  document.getElementById('prev').addEventListener('click', () => goTo(current - 1));
  document.getElementById('next').addEventListener('click', () => goTo(current + 1));

  // Keyboard
  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight' || e.key === 'ArrowDown')  goTo(current + 1);
    if (e.key === 'ArrowLeft'  || e.key === 'ArrowUp')    goTo(current - 1);
  });

  // Touch / swipe
  let touchStartX = 0, touchStartY = 0;
  document.addEventListener('touchstart', e => {
    touchStartX = e.touches[0].clientX;
    touchStartY = e.touches[0].clientY;
  }, { passive: true });
  document.addEventListener('touchend', e => {
    const dx = e.changedTouches[0].clientX - touchStartX;
    const dy = e.changedTouches[0].clientY - touchStartY;
    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 40) {
      goTo(dx < 0 ? current + 1 : current - 1);
    }
  }, { passive: true });
</script>
</body>
</html>
